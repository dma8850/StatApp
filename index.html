
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Sports Stat Tracker</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
body { font-family: Arial, sans-serif; margin:0; padding:20px; background:#f4f6f8; color:#333; }
h1 { text-align:center; color:#1e3a8a; margin-bottom:10px; }

.top-controls {
    display:flex;
    justify-content:center;
    gap:10px;
    margin-bottom:15px;
    flex-wrap:wrap;
}

.top-controls button {
    padding:10px 16px;
    border:none;
    border-radius:10px;
    font-weight:bold;
    cursor:pointer;
}

.backup-btn { background:#7c3aed; color:white; }
.restore-btn { background:#f59e0b; color:white; }

.tab-buttons {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
    gap: 8px;
    margin-bottom: 20px;
}

.tab-buttons button {
    padding:10px 0;
    border:none;
    border-radius:12px;
    background:#1e40af;
    color:white;
    font-weight:bold;
    cursor:pointer;
}

.tab-buttons button.active { background:#2563eb; }

#btn-epl-box, #btn-epl-summary { background:#059669; }
#btn-epl-box.active, #btn-epl-summary.active { background:#10b981; }

.tab { display:none; }

.team-card {
    background:white;
    border-radius:12px;
    padding:15px;
    margin-bottom:20px;
    box-shadow:0 2px 6px rgba(0,0,0,0.15);
}

#eplBox .team-card, #eplSummary .scroll-box { background:#d1fae5; }

table { width:100%; border-collapse:collapse; margin-bottom:10px; }
th, td { border:1px solid #ccc; padding:6px; text-align:center; }

input[type="text"], select {
    width:90%;
    padding:4px;
    border-radius:6px;
    border:1px solid #ccc;
    text-align:center;
}

button.publish {
    width:100%;
    padding:15px;
    background:#10b981;
    color:white;
    font-size:18px;
    font-weight:bold;
    border:none;
    border-radius:12px;
    cursor:pointer;
}

.scroll-box {
    max-height:180px;
    overflow-y:auto;
    border:1px solid #ccc;
    padding:10px;
    border-radius:12px;
    background:white;
}
</style>
</head>
<body>

<h1>Sports Stat Tracker</h1>

<div class="top-controls">
<button class="backup-btn" onclick="backupData()">Backup All Data</button>
<button class="restore-btn" onclick="document.getElementById('restoreInput').click()">Restore Data</button>
<input type="file" id="restoreInput" style="display:none" accept=".json" onchange="restoreData(event)">
</div>

<div class="tab-buttons">
<button id="btn-nba-box" onclick="showTab('nbaBox')">NBA Boxscore</button>
<button id="btn-nba-summary" onclick="showTab('nbaSummary')">NBA Summary</button>
<button id="btn-epl-box" onclick="showTab('eplBox')">EPL Match</button>
<button id="btn-epl-summary" onclick="showTab('eplSummary')">EPL Summary</button>
</div>

<!-- Tabs remain same as before -->
<div id="nbaBox" class="tab"></div>
<div id="nbaSummary" class="tab"><h2>NBA Summary</h2><div id="leaderboardNBA"></div><h3>Team Records</h3><div class="scroll-box" id="teamRecordsNBA"></div></div>
<div id="eplBox" class="tab"></div>
<div id="eplSummary" class="tab"><h2>EPL Summary</h2><div id="leaderboardEPL"></div><h3>Team Records</h3><div class="scroll-box" id="teamRecordsEPL"></div></div>

<script>

// STORAGE
let playersDataNBA = JSON.parse(localStorage.getItem("playersDataNBA"))||{};
let teamRecordsNBA = JSON.parse(localStorage.getItem("teamRecordsNBA"))||{};
let lastRosterNBA = JSON.parse(localStorage.getItem("lastRosterNBA"))||{};
let playersDataEPL = JSON.parse(localStorage.getItem("playersDataEPL"))||{};
let teamRecordsEPL = JSON.parse(localStorage.getItem("teamRecordsEPL"))||{};
let lastRosterEPL = JSON.parse(localStorage.getItem("lastRosterEPL"))||{};

// BACKUP FUNCTION
function backupData(){
    const backup = {
        playersDataNBA,
        teamRecordsNBA,
        lastRosterNBA,
        playersDataEPL,
        teamRecordsEPL,
        lastRosterEPL
    };

    const blob = new Blob([JSON.stringify(backup, null, 2)], {type:"application/json"});
    const link = document.createElement("a");
    link.href = URL.createObjectURL(blob);
    link.download = "sports_stat_backup.json";
    link.click();
}

// RESTORE FUNCTION
function restoreData(event){
    const file = event.target.files[0];
    if(!file) return;

    const reader = new FileReader();
    reader.onload = function(e){
        const data = JSON.parse(e.target.result);

        playersDataNBA = data.playersDataNBA || {};
        teamRecordsNBA = data.teamRecordsNBA || {};
        lastRosterNBA = data.lastRosterNBA || {};
        playersDataEPL = data.playersDataEPL || {};
        teamRecordsEPL = data.teamRecordsEPL || {};
        lastRosterEPL = data.lastRosterEPL || {};

        localStorage.setItem("playersDataNBA", JSON.stringify(playersDataNBA));
        localStorage.setItem("teamRecordsNBA", JSON.stringify(teamRecordsNBA));
        localStorage.setItem("lastRosterNBA", JSON.stringify(lastRosterNBA));
        localStorage.setItem("playersDataEPL", JSON.stringify(playersDataEPL));
        localStorage.setItem("teamRecordsEPL", JSON.stringify(teamRecordsEPL));
        localStorage.setItem("lastRosterEPL", JSON.stringify(lastRosterEPL));

        alert("Data Restored Successfully!");
        updateSummaryNBA();
        updateSummaryEPL();
    };
    reader.readAsText(file);
}

// Minimal tab switching for this example
function showTab(id){
    document.querySelectorAll(".tab").forEach(t=>t.style.display="none");
    document.getElementById(id).style.display="block";
}

showTab("nbaBox");

</script>

</body>
</html>
